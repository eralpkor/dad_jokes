(this.webpackJsonpdad_jokes=this.webpackJsonpdad_jokes||[]).push([[0],{22:function(e,t,n){e.exports=n(49)},27:function(e,t,n){},29:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(18),c=n.n(s),i=(n(27),n(8)),r=n(7),l=n.n(r),u=n(21),k=n(19),d=n(3),m=n(4),h=n(6),f=n(5),p=(n(29),n(2)),v=(a.Component,n(20)),g=n.n(v),j=n(51),J=(n(47),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleClick=function(){a.setState({loading:!0},a.getJokes)},a.state={jokes:JSON.parse(window.localStorage.getItem("jokes")||"[]"),loading:!1},a.seenJokes=new Set(a.state.jokes.map((function(e){return e.text}))),console.log(a.seenJokes),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){0===this.state.jokes.length&&this.getJokes()}},{key:"getJokes",value:function(){var e=Object(k.a)(l.a.mark((function e(){var t,n,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=[];case 2:if(!(t.length<this.props.numJokesToGet)){e.next=9;break}return e.next=5,g.a.get("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}});case 5:n=e.sent,this.seenJokes.has(n.data.joke)?(console.log("Found a dublicate"),console.log(n.data.joke)):t.push({id:Object(j.a)(),text:n.data.joke,votes:0}),e.next=2;break;case 9:this.setState((function(e){return{loading:!1,jokes:[].concat(Object(u.a)(e.jokes),t)}}),(function(){return window.localStorage.setItem("jokes",JSON.stringify(a.state.jokes))})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0),this.setState({loading:!1});case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleVote",value:function(e,t){var n=this;this.setState((function(n){return{jokes:n.jokes.map((function(n){return n.id===e?Object(i.a)(Object(i.a)({},n),{},{votes:n.votes+t}):n}))}}),(function(){return window.localStorage.setItem("jokes",JSON.stringify(n.state.jokes))}))}},{key:"render",value:function(){if(this.state.loading)return o.a.createElement("div",{className:"JokeList-spinner"},o.a.createElement(p.c,{size:"15rem",color:"yellow",className:"spin"}),o.a.createElement("h1",{className:"JokeList-title"},"Loading..."));var e=this.state.jokes.sort((function(e,t){return t.votes-e.votes}));return o.a.createElement("div",{className:"JokeList"},o.a.createElement("div",{className:"JokeList-sidebar"},o.a.createElement("h1",{className:"JokeList-title"},o.a.createElement("span",null,"Dad")," Jokes"),o.a.createElement("img",{src:"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg",alt:"smiley"}),o.a.createElement("button",{className:"JokeList-getmore",onClick:this.handleClick},"Fetch Jokes")),o.a.createElement("div",{className:"JokeList-jokes"},e.map((function(e){}))))}}]),n}(a.Component));J.defaultProps={numJokesToGet:10};var b=J;n(48);var w=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.84ad97d0.chunk.js.map